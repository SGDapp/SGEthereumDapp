var wallet = function(app,web3NodeA,web3NodeB) {

var nodeA_Accounts = web3NodeA.eth.accounts;
var nodeAbalances = [];
var nodeB_Accounts = web3NodeB.eth.accounts;
var nodeBbalances=[];


app.get("/wallet/getNodeABalances", function(req, res) {
	
	for(var i=0;i<nodeA_Accounts.length;i++){
		nodeAbalances[i]=web3NodeA.fromWei(web3NodeA.eth.getBalance(nodeA_Accounts[i]), "ether");
	}

	res.send(nodeAbalances);
});
app.get("/wallet/getNodeBBalances", function(req, res) {
	
	for(var i=0;i<nodeB_Accounts.length;i++){
		nodeBbalances[i]=web3NodeB.fromWei(web3NodeB.eth.getBalance(nodeB_Accounts[i]), "ether");
	}

	res.send(nodeBbalances);
});

app.get("/wallet/addAssetsToMaster", function(req, res) {
	
	var txId=web3NodeA.eth.sendTransaction({from: web3NodeA.eth.accounts[0], to: web3NodeA.eth.accounts[2], value: web3NodeA.toWei($scope.assetValue, 'ether')});
	var transaction = web3NodeA.eth.getTransaction(txId);
	console.log(txId);
	console.log(transaction);

	res.send(txId);
});

app.get("/wallet/transferAssetsFromMaster", function(req, res) {
	
	
	res.send();
});

app.get("/wallet/transferAssetsBetweenClients", function(req, res) {
	
	
	res.send();
});




}
module.exports = wallet;
